{"version":3,"sources":["webpack:///./src/components/ProductGrid/styles.js","webpack:///./src/components/ProductGrid/index.js","webpack:///./src/pages/index.js"],"names":["Grid","styled","div","breakpoints","s","Product","Title","span","PriceTag","ProductGrid","checkout","useContext","StoreContext","store","allShopifyProduct","useStaticQuery","edges","map","price","node","id","handle","title","firstImage","images","firstVariant","variants","key","to","localFile","fluid","childImageSharp","alt","Intl","NumberFormat","undefined","currency","currencyCode","minimumFractionDigits","style","format","parseFloat","IndexPage","keywords"],"mappings":"83BAIO,IAAMA,EAAOC,IAAOC,IAAV,IAKMC,IAAYC,GAKtBC,EAAUJ,IAAOC,IAAV,KAMPI,EAAQL,IAAOM,KAAV,KAMLC,EAAWP,IAAOM,KAAV,KCyDNE,EA5EK,WAAO,IAEdC,EACPC,qBAAWC,KADbC,MAASH,SAEHI,EAAsBC,yBAAe,cAArCD,kBAsCR,OACE,kBAACd,EAAD,KACGc,EAAkBE,MACjBF,EAAkBE,MAAMC,KACtB,gBAXSC,EAWT,IACEC,KACEC,EAFJ,EAEIA,GACAC,EAHJ,EAGIA,OACAC,EAJJ,EAIIA,MACSC,EALb,EAKIC,OALJ,GAMeC,EANf,EAMIC,SANJ,UASE,kBAACrB,EAAD,CAASsB,IAAKP,GACZ,kBAAC,OAAD,CAAMQ,GAAE,YAAcP,EAAd,KACLE,GAAcA,EAAWM,WACxB,kBAAC,IAAD,CACEC,MAAOP,EAAWM,UAAUE,gBAAgBD,MAC5CE,IAAKX,KAIX,kBAACf,EAAD,KAAQgB,GACR,kBAACd,EAAD,MA9BKU,EA8BeO,EAAaP,MA7B3Ce,KAAKC,kBAAaC,EAAW,CAC3BC,SAAU1B,EAAS2B,aAAe3B,EAAS2B,aAAe,MAC1DC,sBAAuB,EACvBC,MAAO,aACNC,OAAOC,WAAWvB,GAAgB,UA8BjC,mDC7DOwB,UAVG,kBAChB,oCACE,kBAAC,IAAD,CAAKpB,MAAM,OAAOqB,SAAU,CAAC,SAAD,yBAC5B,yCACA,sFACA,kBAAC,EAAD,MACA,kBAAC,OAAD,CAAMf,GAAG,YAAT","file":"component---src-pages-index-js-56ab5873c62398dda6ac.js","sourcesContent":["import styled from '@emotion/styled'\n\nimport { breakpoints } from '../../utils/styles'\n\nexport const Grid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 2.5rem;\n\n  @media (max-width: ${breakpoints.s}px) {\n    grid-template-columns: repeat(1, 1fr);\n  }\n`\n\nexport const Product = styled.div`\n  display: flex;\n  min-height: 100%;\n  flex-direction: column;\n`\n\nexport const Title = styled.span`\n  font-weight: 300;\n  font-size: 1.2rem;\n  text-align: center;\n`\n\nexport const PriceTag = styled.span`\n  font-weight: 300;\n  font-size: 1rem;\n  text-align: center;\n  margin-top: 15px;\n\n  :before {\n    content: '- ';\n  }\n`\n","import React, { useContext } from 'react'\nimport { useStaticQuery, graphql, Link } from 'gatsby'\n\nimport StoreContext from '~/context/StoreContext'\nimport { Grid, Product, Title, PriceTag } from './styles'\nimport { Img } from '~/utils/styles'\n\nconst ProductGrid = () => {\n  const {\n    store: { checkout },\n  } = useContext(StoreContext)\n  const { allShopifyProduct } = useStaticQuery(\n    graphql`\n      query {\n        allShopifyProduct(sort: { fields: [createdAt], order: DESC }) {\n          edges {\n            node {\n              id\n              title\n              handle\n              createdAt\n              images {\n                id\n                originalSrc\n                localFile {\n                  childImageSharp {\n                    fluid(maxWidth: 910) {\n                      ...GatsbyImageSharpFluid_withWebp_tracedSVG\n                    }\n                  }\n                }\n              }\n              variants {\n                price\n              }\n            }\n          }\n        }\n      }\n    `\n  )\n\n  const getPrice = price =>\n    Intl.NumberFormat(undefined, {\n      currency: checkout.currencyCode ? checkout.currencyCode : 'EUR',\n      minimumFractionDigits: 2,\n      style: 'currency',\n    }).format(parseFloat(price ? price : 0))\n\n  return (\n    <Grid>\n      {allShopifyProduct.edges ? (\n        allShopifyProduct.edges.map(\n          ({\n            node: {\n              id,\n              handle,\n              title,\n              images: [firstImage],\n              variants: [firstVariant],\n            },\n          }) => (\n            <Product key={id}>\n              <Link to={`/product/${handle}/`}>\n                {firstImage && firstImage.localFile && (\n                  <Img\n                    fluid={firstImage.localFile.childImageSharp.fluid}\n                    alt={handle}\n                  />\n                )}\n              </Link>\n              <Title>{title}</Title>\n              <PriceTag>{getPrice(firstVariant.price)}</PriceTag>\n            </Product>\n          )\n        )\n      ) : (\n        <p>No Products found!</p>\n      )}\n    </Grid>\n  )\n}\n\nexport default ProductGrid\n","import React from 'react'\nimport { Link } from 'gatsby'\n\nimport SEO from '~/components/seo'\nimport ProductGrid from '~/components/ProductGrid'\n\nconst IndexPage = () => (\n  <>\n    <SEO title=\"Home\" keywords={[`gatsby`, `application`, `react`]} />\n    <h1>Hi people</h1>\n    <p>Welcome to your new Shop powered by Gatsby and Shopify.</p>\n    <ProductGrid />\n    <Link to=\"/page-2/\">Go to page 2</Link>\n  </>\n)\n\nexport default IndexPage\n"],"sourceRoot":""}